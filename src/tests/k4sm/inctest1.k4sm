!include "src/tests/k4sm/inctest2.k4sm"

%printstrln
    push i64 rb
    mov i64 rb rg
%printstrln_loop
    cmp i8 [rb] rz
    jeq i64 %printstrln_ret
    printc i8 [rb]
    add i64 rb $1
    jmp i64 %printstrln_loop
%printstrln_ret
    printc i8 $0xa ; newline
    pop i64 rb
    ret