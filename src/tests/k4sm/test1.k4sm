!ent 0x1000
jmp i64 %start

@hello align1 "Hi Guys!"

%start
    mov i32 ra $10000 ; i'm a comment!
; i'm also a comment!
    ; i'm an indented comment!
    mov i64 [ra] $1337
    printi i64 [ra]
    mov i64 rg @hello
    call i64 %printstrln
    hlt

%printstrln
    push i64 rb
    mov i64 rb rg
%printstrln_loop
    cmp i8 [rb] rz
    jeq i64 %printstrln_ret
    printc i8 [rb]
    add i64 rb $1
    jmp i64 %printstrln_loop
%printstrln_ret
    printc i8 $0xa ; newline
    pop i64 rb
    ret
